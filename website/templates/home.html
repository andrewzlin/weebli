{% extends "base.html" %} 
{% block title %}
Home
{% endblock %}

{% block content %}
<div class="section user-menu">
  <div class="d-flex align-items-center justify-content-end p-3 text-white" style="background-color: white;">
    <img src="{{ current_user.picture }}" alt="User Picture" style="width: 50px; height: 50px; object-fit: cover; border-radius: 50%; border: 0.05px solid black;">
    <div class="dropdown">
      <button class="btn btn-light dropdown-toggle d-flex align-items-center" type="button" id="userMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        {{ current_user.mal_username }}
      </button>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userMenu">
        <a class="dropdown-item" href="/">Share Profile</a>
        <a class="dropdown-item" href="/refresh">Refresh</a>
        <a class="dropdown-item" href="/logout">Logout</a>
        <a class="dropdown-item" href="/">About</a>
        <a class="dropdown-item" href="/">Donate</a>       
      </div>
    </div>
  </div>
</div>

<!-- Welcome section -->>
<div class="section welcome-section"></div>
  <div class="container">
    <h1>Welcome to Weebli</h1>
    <p>Lets learn more about your <s>trash</s> amazing anime taste...</p>
  </div>
</div>

<!-- Recommendations section -->
<div class="section reccomendation-section">
  <div class="container">
    <div id="recommendations">
      <h2>Recommendations</h2>
      <select id="animeSelect" name="anime_mal_Id" onchange="getRecommendations()">
        {% for anime_mal_Id, title in anime_list %}
        <option value="{{ anime_mal_Id }}">
          {{ title }}
        </option>
      {% endfor %}
      </select>:
    </div>
    <div id="recommendationsResult">
      <div id="recommendationsList"></div>
    </div>
  </div>
</div>


<!-- Genres section -->
<div class="section genres-section">
  <div class="container">
    <div id="top-genres"> 
      <h2>Your Top Genres (Generated with AI)</h2>
      {{ favorite_genres }}
      <br>
      <p>Favorite genre combinations</p>
    </div>
  </div class="container">
</div>

<!-- Weeb rating section -->
<div class="section weeb-rating-section">
  <div class="container">
    <div id="user-comparison">
      <h2>Weeb Rating</h2>
      <h3>Obscurity</h3>
      <p>Your anime taste is more obscure than</p>
      <h3>Otaku Knowledge</h3>
      <p>You've watched more anime than</p>
    </div>
  </div>
</div>

<!-- Studios section -->
<div class="section studios-section">
  <div class="container">
    <div id="favorite-studios">
      <h2>Your Favorite Studios</h2>
      <p>Highest rated studios</p>
    </div>
  </div>
</div>

<!-- Decades section -->
<div class="section decades-section">
  <div class="container">
    <div id="by-the-decades">
      <h2>Anime by the Decades</h2>
      {{ release_date_frequency }}
      <p>Your favorite anime for each decade</p>
    </div>
  </div>
</div>

<!-- Obscure section -->
<div class="section obscure-section">
  <div class="container">
    <div id="most-obscure">
      <h2>Your Most Obscure Anime</h2>
      {{ least_popular }}
    </div>
  </div>
</div>

<!-- Share section -->
<div class="section share-section">
  <div class="container">
    <div id="share-profile">
      <h2>Share your Taste Profile</h2>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='index.js') }}"></script>
{% endblock %}

